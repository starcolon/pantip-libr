#!/bin/bash

# Prepare report CSV
CSV_PATH="$PANTIPLIBR/data/report.csv"

if [ ! -f "$CSV_PATH" ] 
then
	touch "$CSV_PATH"
else
	rm "$CSV_PATH"
	touch "$CSV_PATH"
fi
echo "DIM , K , TAG ,% Total,  C#0  ,  C#1  ,  C#10 ,  C#-1" > "$CSV_PATH"

# Tokenise input
python3 core/process.py

# Batch train
python3 core/textprocess.py --dim 1000 --kcluster 3 --tagdim 64
python3 core/requeue.py
python3 core/textprocess.py --dim 1000 --kcluster 3 --tagdim 16
python3 core/requeue.py
python3 core/textprocess.py --dim 1000 --kcluster 3 --tagdim 32
python3 core/requeue.py
python3 core/textprocess.py --dim 1200 --kcluster 3 --tagdim 32
python3 core/requeue.py
python3 core/textprocess.py --dim 1420 --kcluster 3 --tagdim 32
python3 core/requeue.py
